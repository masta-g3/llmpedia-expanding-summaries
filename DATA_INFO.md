# LLMpedia Paper Summarization System

## Overview

The LLMpedia system generates expandable summaries of AI research papers at different levels of detail. As users adjust a slider on the website, summaries grow or shrink while maintaining perfect consistency, with shorter versions being fully contained within longer ones.

## Data Generation Process

1. **Initial Summarization**: Research papers are summarized at different paragraph lengths (1, 2, 3, 5, 10, 20, 30 paragraphs).
2. **Expansion Methodology**: Each longer summary is generated by expanding the previous shorter summary, preserving all original content while adding new details between existing sentences.
3. **Content Tagging**: The system tags content as `<original>` (from shorter summaries) or `<new>` (added during expansion), enabling visual distinction on the website.

## Data Structure

Summaries are stored in the PostgreSQL database table `summary_notes` with the following structure:

- Each paper has multiple summary entries at different lengths
- When expanding a summary from length X to length Y, all content from the X-length summary is preserved
- Content is marked with `<original>` and `<new>` tags to indicate preservation or addition

## Implementation Details

### Prompt Structure

The summarization system uses two primary prompts:

1. **System Prompt**: Instructs the model to preserve and expand existing content
2. **User Prompt**: Contains:
   - The paper content
   - The shorter summary (if available)
   - Instructions to maintain formatting consistency
   - Guidance on paragraph organization
   - Requirements for tagging content

### Content Tags

The following tags are used in the summaries:

- `<original>...</original>`: Marks content preserved from shorter summaries
- `<new>...</new>`: Marks newly added content during expansion

When implementing the UI slider, these tags should be parsed to:
1. Show/hide content based on summary length
2. Apply visual effects to differentiate original vs. new content
3. Ensure smooth transitions as users adjust detail level

## Technical Notes

- Summaries support markdown formatting and inline LaTeX for technical content
- The database maintains the relationship between papers and their summaries at different lengths

## Developer Considerations

When implementing the sliding summary feature:
1. Parse the tagged content to determine which sections are preserved across different summary lengths
2. Implement smooth transitions between summary levels (fade in/out, highlight additions, etc.)
3. Handle LaTeX and markdown rendering for technical content
4. Cache summaries at different lengths to minimize database calls when users adjust the slider 
